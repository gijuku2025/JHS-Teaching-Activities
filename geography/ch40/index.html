<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>One Minute Challenge</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    font-family: 'Helvetica Neue', Arial, sans-serif;
    background: #f5f5f7; /* soft neutral */
    display: flex;
    justify-content: center;
    align-items: center;
  }

  #game-container {
    width: 100%;
    max-width: 1200px;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* Header */
  #header-bar {
    width: 100%;
    padding: 20px;
    text-align: center;
    font-size: 2rem;
    font-weight: 600;
    background: linear-gradient(90deg, #ff9a9e, #fad0c4);
    color: white;
  }

  /* Screens */
  #start-screen, #end-screen {
    flex: 1;
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 20px;
  }

  #game-screen {
    flex: 1;
    display: none;
    flex-direction: column;
    justify-content: space-around;
    align-items: center;
    padding: 20px;
  }

  /* Word Card */
  #word-card {
    width: 85%;
    max-width: 700px;
    padding: 40px;
    text-align: center;
    font-size: clamp(2rem, 6vw, 4rem);
    font-weight: 600;
    color: #222;
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(8px);
    border-radius: 30px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  #word-card.show {
    opacity: 1;
  }

  /* Timer */
  #timer-container {
    width: 85%;
    max-width: 700px;
    margin-bottom: 20px;
  }

  #timer-text {
    font-size: 2rem;
    font-weight: 500;
    margin-bottom: 10px;
    color: #333;
  }

  #timer-bar {
    width: 100%;
    height: 18px;
    border-radius: 12px;
    background: linear-gradient(90deg, #ff9a9e, #fad0c4);
    box-shadow: 0 2px 6px rgba(0,0,0,0.2) inset;
    transition: width 0.3s linear;
  }

  /* Buttons */
  .button {
    padding: 20px 30px;
    margin: 15px;
    border: none;
    border-radius: 20px;
    font-size: 1.5rem;
    font-weight: 500;
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    width: 70%;
    max-width: 400px;
    color: #fff;
  }

  .button:active {
    transform: scale(0.97);
    box-shadow: none;
  }

  #start-button {
    background: #4caf50;
    box-shadow: 0 6px 14px rgba(76,175,80,0.4);
  }

  .timer-button {
    background: #2196f3;
    box-shadow: 0 6px 14px rgba(33,150,243,0.4);
  }

  #skip-button {
    background: #ff9800;
    box-shadow: 0 6px 14px rgba(255,152,0,0.4);
  }

  #correct-button {
    background: #4caf50;
    box-shadow: 0 6px 14px rgba(76,175,80,0.4);
  }

  /* Controls */
  #controls {
    display: flex;
    gap: 20px;
    width: 85%;
    max-width: 700px;
    justify-content: space-between;
  }

  .control-button {
    flex: 1;
    font-size: 1.5rem;
  }
</style>
</head>
<body>
<div id="game-container">
  <div id="header-bar">One Minute Challenge</div>

  <!-- Start Screen -->
  <div id="start-screen">
    <p style="font-size:1.5rem;">Select Timer:</p>
    <button class="button timer-button" data-time="30">30 Seconds</button>
    <button class="button timer-button" data-time="60">1 Minute</button>
    <button class="button" id="start-button">Start Game</button>
  </div>

  <!-- Game Screen -->
  <div id="game-screen">
    <div id="timer-container">
      <div id="timer-text"></div>
      <div id="timer-bar"></div>
    </div>
    <div id="word-card"></div>
    <div id="controls">
      <button class="button control-button" id="skip-button">⏭ Skip</button>
      <button class="button control-button" id="correct-button">✅ Correct</button>
    </div>
  </div>

  <!-- End Screen -->
  <div id="end-screen">
    <h1>Time’s Up!</h1>
    <h2 id="final-score"></h2>
    <button class="button" id="play-again">Play Again</button>
    <button class="button" id="back-to-start">Back to Start</button>
  </div>
</div>

<script>
  const words = [
    "individuals","happiness","society","conflict","agreement","efficiency",
    "fair","decisions","personal happiness","adolescence","life cycle","growth",
    "childhood","adulthood","independence","puberty","desires","identity",
    "marriage","Sacrifice","Baby","Old age"
  ];

  const startScreen = document.getElementById('start-screen');
  const gameScreen = document.getElementById('game-screen');
  const endScreen = document.getElementById('end-screen');
  const wordCard = document.getElementById('word-card');
  const timerBar = document.getElementById('timer-bar');
  const timerText = document.getElementById('timer-text');
  const finalScore = document.getElementById('final-score');

  const startButton = document.getElementById('start-button');
  const timerButtons = document.querySelectorAll('.timer-button');
  const correctButton = document.getElementById('correct-button');
  const skipButton = document.getElementById('skip-button');
  const playAgainButton = document.getElementById('play-again');
  const backToStartButton = document.getElementById('back-to-start');

  let shuffledWords = [];
  let currentWordIndex = 0;
  let score = 0;
  let timer = 60;
  let timerInterval;
  let selectedTime = 60;

  timerButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      selectedTime = parseInt(btn.getAttribute('data-time'));
      timerButtons.forEach(b => b.style.opacity = 0.5);
      btn.style.opacity = 1;
    });
  });

  startButton.addEventListener('click', startGame);
  correctButton.addEventListener('click', () => handleGuess(true));
  skipButton.addEventListener('click', () => handleGuess(false));
  playAgainButton.addEventListener('click', startGame);
  backToStartButton.addEventListener('click', () => {
    endScreen.style.display = 'none';
    startScreen.style.display = 'flex';
  });

  let touchStartX = 0;
  let touchEndX = 0;
  wordCard.addEventListener('touchstart', e => {
    touchStartX = e.changedTouches[0].screenX;
  });
  wordCard.addEventListener('touchend', e => {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
  });

  function handleSwipe() {
    const diff = touchEndX - touchStartX;
    if (Math.abs(diff) > 50) {
      if (diff > 0) handleGuess(true);
      else handleGuess(false);
    }
  }

  function startGame() {
    startScreen.style.display = 'none';
    endScreen.style.display = 'none';
    gameScreen.style.display = 'flex';

    score = 0;
    timer = selectedTime;
    shuffledWords = [...words].sort(() => Math.random() - 0.5);
    currentWordIndex = 0;

    showWord();
    updateTimer();
    clearInterval(timerInterval);
    timerInterval = setInterval(countdown, 1000);
  }

  function showWord() {
    if (currentWordIndex >= shuffledWords.length) currentWordIndex = 0;
    wordCard.textContent = shuffledWords[currentWordIndex];
    wordCard.classList.remove('show');
    setTimeout(() => wordCard.classList.add('show'), 50);
  }

  function handleGuess(correct) {
    if (correct) score++;
    currentWordIndex++;
    setTimeout(showWord, 200);
  }

  function countdown() {
    timer--;
    updateTimer();
    if (timer <= 0) endGame();
  }

  function updateTimer() {
    timerText.textContent = `${timer}s`;
    const percentage = (timer / selectedTime) * 100;
    timerBar.style.width = percentage + '%';
  }

  function endGame() {
    clearInterval(timerInterval);
    gameScreen.style.display = 'none';
    finalScore.textContent = `You got ${score} point${score !== 1 ? 's' : ''}!`;
    endScreen.style.display = 'flex';
  }

  // Initialize
  startScreen.style.display = 'flex';
</script>
</body>
</html>
